# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`k8s`](#k8s)
* [`k8s::node`](#k8snode)
* [`k8s::node::kube_proxy`](#k8snodekube_proxy)
* [`k8s::node::kubectl`](#k8snodekubectl)
* [`k8s::node::kubelet`](#k8snodekubelet)
* [`k8s::repo`](#k8srepo)
* [`k8s::server`](#k8sserver)
* [`k8s::server::apiserver`](#k8sserverapiserver)
* [`k8s::server::controller_manager`](#k8sservercontroller_manager)
* [`k8s::server::etcd`](#k8sserveretcd)
* [`k8s::server::etcd::setup`](#k8sserveretcdsetup)
* [`k8s::server::resources`](#k8sserverresources)
* [`k8s::server::scheduler`](#k8sserverscheduler)
* [`k8s::server::tls`](#k8sservertls)

### Defined types

* [`k8s::binary`](#k8sbinary)
* [`k8s::server::bootstrap_token`](#k8sserverbootstrap_token)
* [`k8s::server::etcd::member`](#k8sserveretcdmember)
* [`k8s::server::tls::ca`](#k8sservertlsca)
* [`k8s::server::tls::cert`](#k8sservertlscert)
* [`k8s::server::tls::k8s_sign`](#k8sservertlsk8s_sign)

### Resource types

* [`kubeconfig`](#kubeconfig): Example:  kubeconfig { '/var/lib/kubernetes/utility.conf':   ca_cert => '/etc/kubernetes.ca.pem',   token   => 'utility-token', }
* [`kubectl_apply`](#kubectl_apply): Example:  To encode the bootstrap token "tokenid.tokensecret" into a Kubernetes secret;      $tokenid = 'tokenid'     $tokensecret = 'tokense

### Functions

* [`k8s::format_arguments`](#k8sformat_arguments)
* [`k8s::format_url`](#k8sformat_url)
* [`k8s::ip_in_cidr`](#k8sip_in_cidr)

### Data types

* [`K8s::Duration`](#k8sduration): This regexp matches Go duration values, as taken from; https://golang.org/pkg/time/#ParseDuration
* [`K8s::PortRange`](#k8sportrange): This regexp matches port range values
* [`K8s::Timestamp`](#k8stimestamp): This regexp matches RFC3339 timestamps, the same as what Kubernetes expects to find
* [`K8s::URI`](#k8suri): This regexp matches URI values
* [`K8s::Version`](#k8sversion): A type for handling Kubernetes version numbers
* [`Kus::Quantity`](#kusquantity): This regexp matches quantities, like those for resource requests/limits

## Classes

### <a name="k8s"></a>`k8s`

The k8s class.

#### Parameters

The following parameters are available in the `k8s` class:

* [`ensure`](#ensure)
* [`packaging`](#packaging)
* [`native_packaging`](#native_packaging)
* [`version`](#version)
* [`etcd_version`](#etcd_version)
* [`container_registry`](#container_registry)
* [`container_image`](#container_image)
* [`container_image_tag`](#container_image_tag)
* [`container_manager`](#container_manager)
* [`container_runtime_service`](#container_runtime_service)
* [`crio_package`](#crio_package)
* [`manage_etcd`](#manage_etcd)
* [`manage_firewall`](#manage_firewall)
* [`manage_image`](#manage_image)
* [`manage_repo`](#manage_repo)
* [`manage_packages`](#manage_packages)
* [`manage_container_manager`](#manage_container_manager)
* [`puppetdb_discovery`](#puppetdb_discovery)
* [`purge_manifests`](#purge_manifests)
* [`native_url_template`](#native_url_template)
* [`tarball_url_template`](#tarball_url_template)
* [`package_template`](#package_template)
* [`hyperkube_name`](#hyperkube_name)
* [`node_auth`](#node_auth)
* [`incluster_master`](#incluster_master)
* [`master`](#master)
* [`etcd_servers`](#etcd_servers)
* [`service_cluster_cidr`](#service_cluster_cidr)
* [`cluster_cidr`](#cluster_cidr)
* [`api_service_address`](#api_service_address)
* [`dns_service_address`](#dns_service_address)
* [`cluster_domain`](#cluster_domain)
* [`role`](#role)

##### <a name="ensure"></a>`ensure`

Data type: `Enum['present', 'absent']`



Default value: `'present'`

##### <a name="packaging"></a>`packaging`

Data type: `Enum['container', 'native']`



Default value: `'native'`

##### <a name="native_packaging"></a>`native_packaging`

Data type: `Enum['package', 'tarball', 'loose', 'hyperkube', 'manual']`



Default value: `'loose'`

##### <a name="version"></a>`version`

Data type: `String[1]`



Default value: `'1.18.16'`

##### <a name="etcd_version"></a>`etcd_version`

Data type: `String[1]`



Default value: `'3.4.15'`

##### <a name="container_registry"></a>`container_registry`

Data type: `String[1]`



Default value: `'gcr.io/google_containers'`

##### <a name="container_image"></a>`container_image`

Data type: `String[1]`



Default value: `'hyperkube'`

##### <a name="container_image_tag"></a>`container_image_tag`

Data type: `Optional[String]`



Default value: ``undef``

##### <a name="container_manager"></a>`container_manager`

Data type: `Enum['docker', 'crio']`



Default value: `'crio'`

##### <a name="container_runtime_service"></a>`container_runtime_service`

Data type: `String[1]`



Default value: `"${container_manager}.service"`

##### <a name="crio_package"></a>`crio_package`

Data type: `String[1]`



Default value: `'cri-o'`

##### <a name="manage_etcd"></a>`manage_etcd`

Data type: `Boolean`



Default value: ``true``

##### <a name="manage_firewall"></a>`manage_firewall`

Data type: `Boolean`



Default value: ``false``

##### <a name="manage_image"></a>`manage_image`

Data type: `Boolean`



Default value: ``false``

##### <a name="manage_repo"></a>`manage_repo`

Data type: `Boolean`



Default value: ``true``

##### <a name="manage_packages"></a>`manage_packages`

Data type: `Boolean`



Default value: ``true``

##### <a name="manage_container_manager"></a>`manage_container_manager`

Data type: `Boolean`



Default value: ``true``

##### <a name="puppetdb_discovery"></a>`puppetdb_discovery`

Data type: `Boolean`



Default value: ``false``

##### <a name="purge_manifests"></a>`purge_manifests`

Data type: `Boolean`



Default value: ``true``

##### <a name="native_url_template"></a>`native_url_template`

Data type: `String[1]`



Default value: `'http://storage.googleapis.com/kubernetes-release/release/v%{version}/bin/%{kernel}/%{arch}/%{binary}'`

##### <a name="tarball_url_template"></a>`tarball_url_template`

Data type: `String[1]`



Default value: `'https://dl.k8s.io/v%{version}/kubernetes-%{component}-%{kernel}-%{arch}.tar.gz'`

##### <a name="package_template"></a>`package_template`

Data type: `String[1]`



Default value: `'kubernetes-%{component}'`

##### <a name="hyperkube_name"></a>`hyperkube_name`

Data type: `String[1]`



Default value: `'hyperkube'`

##### <a name="node_auth"></a>`node_auth`

Data type: `Enum['cert', 'token', 'bootstrap']`



Default value: `'bootstrap'`

##### <a name="incluster_master"></a>`incluster_master`

Data type: `Stdlib::HTTPUrl`



Default value: `'https://kubernetes.default.svc'`

##### <a name="master"></a>`master`

Data type: `Stdlib::HTTPUrl`



Default value: `'https://kubernetes:6443'`

##### <a name="etcd_servers"></a>`etcd_servers`

Data type: `Optional[Array[Stdlib::HTTPUrl]]`



Default value: ``undef``

##### <a name="service_cluster_cidr"></a>`service_cluster_cidr`

Data type: `Variant[Stdlib::IP::Address::V4::CIDR, Stdlib::IP::Address::V6::CIDR]`



Default value: `'10.1.0.0/24'`

##### <a name="cluster_cidr"></a>`cluster_cidr`

Data type: `Variant[Stdlib::IP::Address::V4::CIDR, Stdlib::IP::Address::V6::CIDR]`



Default value: `'10.0.0.0/16'`

##### <a name="api_service_address"></a>`api_service_address`

Data type: `Stdlib::IP::Address::Nosubnet`



Default value: `k8s::ip_in_cidr($service_cluster_cidr, 'first')`

##### <a name="dns_service_address"></a>`dns_service_address`

Data type: `Stdlib::IP::Address::Nosubnet`



Default value: `k8s::ip_in_cidr($service_cluster_cidr, 'second')`

##### <a name="cluster_domain"></a>`cluster_domain`

Data type: `Stdlib::Fqdn`



Default value: `'cluster.local'`

##### <a name="role"></a>`role`

Data type: `Enum['node','server','none']`



Default value: `'none'`

### <a name="k8snode"></a>`k8s::node`

The k8s::node class.

#### Parameters

The following parameters are available in the `k8s::node` class:

* [`ensure`](#ensure)
* [`master`](#master)
* [`node_auth`](#node_auth)
* [`proxy_auth`](#proxy_auth)
* [`manage_kubelet`](#manage_kubelet)
* [`manage_proxy`](#manage_proxy)
* [`manage_firewall`](#manage_firewall)
* [`cert_path`](#cert_path)
* [`ca_cert`](#ca_cert)
* [`node_cert`](#node_cert)
* [`node_key`](#node_key)
* [`proxy_cert`](#proxy_cert)
* [`proxy_key`](#proxy_key)
* [`node_token`](#node_token)
* [`proxy_token`](#proxy_token)

##### <a name="ensure"></a>`ensure`

Data type: `Enum['present', 'absent']`



Default value: `$k8s::ensure`

##### <a name="master"></a>`master`

Data type: `Stdlib::HTTPUrl`



Default value: `$k8s::master`

##### <a name="node_auth"></a>`node_auth`

Data type: `Enum['cert', 'token', 'bootstrap']`



Default value: `$k8s::node_auth`

##### <a name="proxy_auth"></a>`proxy_auth`

Data type: `Enum['cert', 'token', 'incluster']`



Default value: `'cert'`

##### <a name="manage_kubelet"></a>`manage_kubelet`

Data type: `Boolean`



Default value: ``true``

##### <a name="manage_proxy"></a>`manage_proxy`

Data type: `Boolean`



Default value: ``true``

##### <a name="manage_firewall"></a>`manage_firewall`

Data type: `Boolean`



Default value: `$k8s::manage_firewall`

##### <a name="cert_path"></a>`cert_path`

Data type: `Stdlib::Unixpath`



Default value: `'/var/lib/kubelet/pki'`

##### <a name="ca_cert"></a>`ca_cert`

Data type: `Optional[Stdlib::Unixpath]`



Default value: ``undef``

##### <a name="node_cert"></a>`node_cert`

Data type: `Optional[Stdlib::Unixpath]`



Default value: ``undef``

##### <a name="node_key"></a>`node_key`

Data type: `Optional[Stdlib::Unixpath]`



Default value: ``undef``

##### <a name="proxy_cert"></a>`proxy_cert`

Data type: `Optional[Stdlib::Unixpath]`



Default value: ``undef``

##### <a name="proxy_key"></a>`proxy_key`

Data type: `Optional[Stdlib::Unixpath]`



Default value: ``undef``

##### <a name="node_token"></a>`node_token`

Data type: `Optional[String[1]]`



Default value: ``undef``

##### <a name="proxy_token"></a>`proxy_token`

Data type: `Optional[String[1]]`



Default value: ``undef``

### <a name="k8snodekube_proxy"></a>`k8s::node::kube_proxy`

The k8s::node::kube_proxy class.

#### Parameters

The following parameters are available in the `k8s::node::kube_proxy` class:

* [`ensure`](#ensure)
* [`master`](#master)
* [`arguments`](#arguments)
* [`cluster_cidr`](#cluster_cidr)
* [`auth`](#auth)
* [`ca_cert`](#ca_cert)
* [`cert`](#cert)
* [`key`](#key)
* [`token`](#token)

##### <a name="ensure"></a>`ensure`

Data type: `Enum['present', 'absent']`



Default value: `$k8s::node::ensure`

##### <a name="master"></a>`master`

Data type: `Stdlib::HTTPUrl`



Default value: `$k8s::node::master`

##### <a name="arguments"></a>`arguments`

Data type: `Hash[String, Data]`



Default value: `{}`

##### <a name="cluster_cidr"></a>`cluster_cidr`

Data type: `Variant[Stdlib::IP::Address::V4::CIDR, Stdlib::IP::Address::V6::CIDR]`



Default value: `$k8s::cluster_cidr`

##### <a name="auth"></a>`auth`

Data type: `Enum['cert', 'token', 'incluster']`



Default value: `$k8s::node::proxy_auth`

##### <a name="ca_cert"></a>`ca_cert`

Data type: `Optional[Stdlib::Unixpath]`



Default value: `$k8s::node::ca_cert`

##### <a name="cert"></a>`cert`

Data type: `Optional[Stdlib::Unixpath]`



Default value: `$k8s::node::proxy_cert`

##### <a name="key"></a>`key`

Data type: `Optional[Stdlib::Unixpath]`



Default value: `$k8s::node::proxy_key`

##### <a name="token"></a>`token`

Data type: `Optional[String[1]]`



Default value: `$k8s::node::proxy_token`

### <a name="k8snodekubectl"></a>`k8s::node::kubectl`

The k8s::node::kubectl class.

#### Parameters

The following parameters are available in the `k8s::node::kubectl` class:

* [`ensure`](#ensure)

##### <a name="ensure"></a>`ensure`

Data type: `Enum['present', 'absent']`



Default value: `$k8s::ensure`

### <a name="k8snodekubelet"></a>`k8s::node::kubelet`

The k8s::node::kubelet class.

#### Parameters

The following parameters are available in the `k8s::node::kubelet` class:

* [`ensure`](#ensure)
* [`master`](#master)
* [`config`](#config)
* [`arguments`](#arguments)
* [`runtime`](#runtime)
* [`runtime_service`](#runtime_service)
* [`auth`](#auth)
* [`rotate_server_tls`](#rotate_server_tls)
* [`manage_firewall`](#manage_firewall)
* [`cert_path`](#cert_path)
* [`kubeconfig`](#kubeconfig)
* [`ca_cert`](#ca_cert)
* [`cert`](#cert)
* [`key`](#key)
* [`token`](#token)

##### <a name="ensure"></a>`ensure`

Data type: `Enum['present', 'absent']`



Default value: `$k8s::node::ensure`

##### <a name="master"></a>`master`

Data type: `Stdlib::HTTPUrl`



Default value: `$k8s::node::master`

##### <a name="config"></a>`config`

Data type: `Hash[String, Data]`



Default value: `{}`

##### <a name="arguments"></a>`arguments`

Data type: `Hash[String, Data]`



Default value: `{}`

##### <a name="runtime"></a>`runtime`

Data type: `String`



Default value: `$k8s::container_manager`

##### <a name="runtime_service"></a>`runtime_service`

Data type: `String`



Default value: `$k8s::container_runtime_service`

##### <a name="auth"></a>`auth`

Data type: `Enum['cert', 'token', 'bootstrap']`



Default value: `$k8s::node::node_auth`

##### <a name="rotate_server_tls"></a>`rotate_server_tls`

Data type: `Boolean`



Default value: `==`

##### <a name="manage_firewall"></a>`manage_firewall`

Data type: `Boolean`



Default value: `$k8s::node::manage_firewall`

##### <a name="cert_path"></a>`cert_path`

Data type: `Stdlib::Unixpath`



Default value: `$k8s::node::cert_path`

##### <a name="kubeconfig"></a>`kubeconfig`

Data type: `Stdlib::Unixpath`



Default value: `'/srv/kubernetes/kubelet.kubeconf'`

##### <a name="ca_cert"></a>`ca_cert`

Data type: `Optional[Stdlib::Unixpath]`



Default value: `$k8s::node::ca_cert`

##### <a name="cert"></a>`cert`

Data type: `Optional[Stdlib::Unixpath]`



Default value: `$k8s::node::node_cert`

##### <a name="key"></a>`key`

Data type: `Optional[Stdlib::Unixpath]`



Default value: `$k8s::node::node_key`

##### <a name="token"></a>`token`

Data type: `Optional[String[1]]`



Default value: `$k8s::node::node_token`

### <a name="k8srepo"></a>`k8s::repo`

The k8s::repo class.

#### Parameters

The following parameters are available in the `k8s::repo` class:

* [`manage_container_manager`](#manage_container_manager)
* [`crio_version`](#crio_version)

##### <a name="manage_container_manager"></a>`manage_container_manager`

Data type: `Boolean`



Default value: `$k8s::manage_container_manager`

##### <a name="crio_version"></a>`crio_version`

Data type: `String[1]`



Default value: `('.')`

### <a name="k8sserver"></a>`k8s::server`

The k8s::server class.

#### Parameters

The following parameters are available in the `k8s::server` class:

* [`ensure`](#ensure)
* [`api_port`](#api_port)
* [`cluster_cidr`](#cluster_cidr)
* [`dns_service_address`](#dns_service_address)
* [`cluster_domain`](#cluster_domain)
* [`direct_master`](#direct_master)
* [`master`](#master)
* [`cert_path`](#cert_path)
* [`ca_key`](#ca_key)
* [`ca_cert`](#ca_cert)
* [`aggregator_ca_key`](#aggregator_ca_key)
* [`aggregator_ca_cert`](#aggregator_ca_cert)
* [`generate_ca`](#generate_ca)
* [`manage_etcd`](#manage_etcd)
* [`manage_firewall`](#manage_firewall)
* [`manage_certs`](#manage_certs)
* [`manage_signing`](#manage_signing)
* [`manage_components`](#manage_components)
* [`manage_resources`](#manage_resources)
* [`node_on_server`](#node_on_server)

##### <a name="ensure"></a>`ensure`

Data type: `Enum['present', 'absent']`



Default value: `$k8s::ensure`

##### <a name="api_port"></a>`api_port`

Data type: `Integer[1]`



Default value: `6443`

##### <a name="cluster_cidr"></a>`cluster_cidr`

Data type: `Variant[Stdlib::IP::Address::V4::CIDR, Stdlib::IP::Address::V6::CIDR]`



Default value: `$k8s::cluster_cidr`

##### <a name="dns_service_address"></a>`dns_service_address`

Data type: `Stdlib::IP::Address::Nosubnet`



Default value: `$k8s::dns_service_address`

##### <a name="cluster_domain"></a>`cluster_domain`

Data type: `String`



Default value: `$k8s::cluster_domain`

##### <a name="direct_master"></a>`direct_master`

Data type: `String`



Default value: `"https://${fact('networking.ip')}:${api_port}"`

##### <a name="master"></a>`master`

Data type: `String`



Default value: `$k8s::master`

##### <a name="cert_path"></a>`cert_path`

Data type: `Stdlib::Unixpath`



Default value: `'/etc/kubernetes/certs'`

##### <a name="ca_key"></a>`ca_key`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/ca.key"`

##### <a name="ca_cert"></a>`ca_cert`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/ca.pem"`

##### <a name="aggregator_ca_key"></a>`aggregator_ca_key`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/aggregator-ca.key"`

##### <a name="aggregator_ca_cert"></a>`aggregator_ca_cert`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/aggregator-ca.pem"`

##### <a name="generate_ca"></a>`generate_ca`

Data type: `Boolean`



Default value: ``false``

##### <a name="manage_etcd"></a>`manage_etcd`

Data type: `Boolean`



Default value: `$k8s::manage_etcd`

##### <a name="manage_firewall"></a>`manage_firewall`

Data type: `Boolean`



Default value: `$k8s::manage_firewall`

##### <a name="manage_certs"></a>`manage_certs`

Data type: `Boolean`



Default value: ``true``

##### <a name="manage_signing"></a>`manage_signing`

Data type: `Boolean`



Default value: `$k8s::puppetdb_discovery`

##### <a name="manage_components"></a>`manage_components`

Data type: `Boolean`



Default value: ``true``

##### <a name="manage_resources"></a>`manage_resources`

Data type: `Boolean`



Default value: ``true``

##### <a name="node_on_server"></a>`node_on_server`

Data type: `Boolean`



Default value: ``true``

### <a name="k8sserverapiserver"></a>`k8s::server::apiserver`

The k8s::server::apiserver class.

#### Parameters

The following parameters are available in the `k8s::server::apiserver` class:

* [`ensure`](#ensure)
* [`arguments`](#arguments)
* [`service_cluster_cidr`](#service_cluster_cidr)
* [`etcd_servers`](#etcd_servers)
* [`discover_etcd_servers`](#discover_etcd_servers)
* [`manage_firewall`](#manage_firewall)
* [`cert_path`](#cert_path)
* [`ca_cert`](#ca_cert)
* [`aggregator_ca_cert`](#aggregator_ca_cert)
* [`serviceaccount_public`](#serviceaccount_public)
* [`apiserver_cert`](#apiserver_cert)
* [`apiserver_key`](#apiserver_key)
* [`front_proxy_cert`](#front_proxy_cert)
* [`front_proxy_key`](#front_proxy_key)
* [`apiserver_client_cert`](#apiserver_client_cert)
* [`apiserver_client_key`](#apiserver_client_key)
* [`etcd_ca`](#etcd_ca)
* [`etcd_cert`](#etcd_cert)
* [`etcd_key`](#etcd_key)

##### <a name="ensure"></a>`ensure`

Data type: `Enum['present', 'absent']`



Default value: `$k8s::server::ensure`

##### <a name="arguments"></a>`arguments`

Data type: `Hash[String, Data]`



Default value: `{}`

##### <a name="service_cluster_cidr"></a>`service_cluster_cidr`

Data type: `Variant[Stdlib::IP::Address::V4::CIDR, Stdlib::IP::Address::V6::CIDR]`



Default value: `$k8s::service_cluster_cidr`

##### <a name="etcd_servers"></a>`etcd_servers`

Data type: `Optional[Array[Stdlib::HTTPUrl]]`



Default value: ``undef``

##### <a name="discover_etcd_servers"></a>`discover_etcd_servers`

Data type: `Boolean`



Default value: `$k8s::puppetdb_discovery`

##### <a name="manage_firewall"></a>`manage_firewall`

Data type: `Boolean`



Default value: `$k8s::server::manage_firewall`

##### <a name="cert_path"></a>`cert_path`

Data type: `Stdlib::Unixpath`



Default value: `$k8s::server::tls::cert_path`

##### <a name="ca_cert"></a>`ca_cert`

Data type: `Stdlib::Unixpath`



Default value: `$k8s::server::tls::ca_cert`

##### <a name="aggregator_ca_cert"></a>`aggregator_ca_cert`

Data type: `Stdlib::Unixpath`



Default value: `$k8s::server::tls::aggregator_ca_cert`

##### <a name="serviceaccount_public"></a>`serviceaccount_public`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/service-account.pub"`

##### <a name="apiserver_cert"></a>`apiserver_cert`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/kube-apiserver.pem"`

##### <a name="apiserver_key"></a>`apiserver_key`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/kube-apiserver.key"`

##### <a name="front_proxy_cert"></a>`front_proxy_cert`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/front-proxy-client.pem"`

##### <a name="front_proxy_key"></a>`front_proxy_key`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/front-proxy-client.key"`

##### <a name="apiserver_client_cert"></a>`apiserver_client_cert`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/apiserver-kubelet-client.pem"`

##### <a name="apiserver_client_key"></a>`apiserver_client_key`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/apiserver-kubelet-client.key"`

##### <a name="etcd_ca"></a>`etcd_ca`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/etcd-ca.pem"`

##### <a name="etcd_cert"></a>`etcd_cert`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/etcd.pem"`

##### <a name="etcd_key"></a>`etcd_key`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/etcd.key"`

### <a name="k8sservercontroller_manager"></a>`k8s::server::controller_manager`

The k8s::server::controller_manager class.

#### Parameters

The following parameters are available in the `k8s::server::controller_manager` class:

* [`ensure`](#ensure)
* [`master`](#master)
* [`arguments`](#arguments)
* [`service_cluster_cidr`](#service_cluster_cidr)
* [`cluster_cidr`](#cluster_cidr)
* [`cert_path`](#cert_path)
* [`ca_cert`](#ca_cert)
* [`ca_key`](#ca_key)
* [`cert`](#cert)
* [`key`](#key)

##### <a name="ensure"></a>`ensure`

Data type: `Enum['present', 'absent']`



Default value: `$k8s::server::ensure`

##### <a name="master"></a>`master`

Data type: `Stdlib::HTTPUrl`



Default value: `$k8s::master`

##### <a name="arguments"></a>`arguments`

Data type: `Hash[String, Data]`



Default value: `{}`

##### <a name="service_cluster_cidr"></a>`service_cluster_cidr`

Data type: `Variant[Stdlib::IP::Address::V4::CIDR, Stdlib::IP::Address::V6::CIDR]`



Default value: `$k8s::service_cluster_cidr`

##### <a name="cluster_cidr"></a>`cluster_cidr`

Data type: `Variant[Stdlib::IP::Address::V4::CIDR, Stdlib::IP::Address::V6::CIDR]`



Default value: `$k8s::cluster_cidr`

##### <a name="cert_path"></a>`cert_path`

Data type: `Stdlib::Unixpath`



Default value: `$k8s::server::tls::cert_path`

##### <a name="ca_cert"></a>`ca_cert`

Data type: `Stdlib::Unixpath`



Default value: `$k8s::server::tls::ca_cert`

##### <a name="ca_key"></a>`ca_key`

Data type: `Stdlib::Unixpath`



Default value: `$k8s::server::tls::ca_key`

##### <a name="cert"></a>`cert`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/kube-controller-manager.pem"`

##### <a name="key"></a>`key`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/kube-controller-manager.key"`

### <a name="k8sserveretcd"></a>`k8s::server::etcd`

The k8s::server::etcd class.

#### Parameters

The following parameters are available in the `k8s::server::etcd` class:

* [`ensure`](#ensure)
* [`version`](#version)
* [`manage_setup`](#manage_setup)
* [`manage_firewall`](#manage_firewall)
* [`manage_members`](#manage_members)
* [`cluster_name`](#cluster_name)
* [`self_signed_tls`](#self_signed_tls)
* [`manage_certs`](#manage_certs)
* [`generate_ca`](#generate_ca)
* [`cert_path`](#cert_path)
* [`peer_ca_key`](#peer_ca_key)
* [`peer_ca_cert`](#peer_ca_cert)
* [`client_ca_key`](#client_ca_key)
* [`client_ca_cert`](#client_ca_cert)

##### <a name="ensure"></a>`ensure`

Data type: `Enum['present', 'absent']`



Default value: `'present'`

##### <a name="version"></a>`version`

Data type: `String[1]`



Default value: `$k8s::etcd_version`

##### <a name="manage_setup"></a>`manage_setup`

Data type: `Boolean`



Default value: ``true``

##### <a name="manage_firewall"></a>`manage_firewall`

Data type: `Boolean`



Default value: ``false``

##### <a name="manage_members"></a>`manage_members`

Data type: `Boolean`



Default value: ``false``

##### <a name="cluster_name"></a>`cluster_name`

Data type: `String[1]`



Default value: `'default'`

##### <a name="self_signed_tls"></a>`self_signed_tls`

Data type: `Boolean`



Default value: ``false``

##### <a name="manage_certs"></a>`manage_certs`

Data type: `Boolean`



Default value: ``true``

##### <a name="generate_ca"></a>`generate_ca`

Data type: `Boolean`



Default value: ``false``

##### <a name="cert_path"></a>`cert_path`

Data type: `Stdlib::Unixpath`



Default value: `'/var/lib/etcd/certs'`

##### <a name="peer_ca_key"></a>`peer_ca_key`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/peer-ca.key"`

##### <a name="peer_ca_cert"></a>`peer_ca_cert`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/peer-ca.pem"`

##### <a name="client_ca_key"></a>`client_ca_key`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/client-ca.key"`

##### <a name="client_ca_cert"></a>`client_ca_cert`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/client-ca.pem"`

### <a name="k8sserveretcdsetup"></a>`k8s::server::etcd::setup`

The k8s::server::etcd::setup class.

#### Parameters

The following parameters are available in the `k8s::server::etcd::setup` class:

* [`ensure`](#ensure)
* [`install`](#install)
* [`package`](#package)
* [`version`](#version)
* [`etcd_name`](#etcd_name)
* [`fqdn`](#fqdn)
* [`archive_template`](#archive_template)
* [`data_dir`](#data_dir)
* [`proxy`](#proxy)
* [`listen_client_urls`](#listen_client_urls)
* [`advertise_client_urls`](#advertise_client_urls)
* [`listen_peer_urls`](#listen_peer_urls)
* [`initial_advertise_peer_urls`](#initial_advertise_peer_urls)
* [`peer_cert_file`](#peer_cert_file)
* [`peer_key_file`](#peer_key_file)
* [`peer_trusted_ca_file`](#peer_trusted_ca_file)
* [`peer_client_cert_auth`](#peer_client_cert_auth)
* [`peer_auto_tls`](#peer_auto_tls)
* [`cert_file`](#cert_file)
* [`key_file`](#key_file)
* [`trusted_ca_file`](#trusted_ca_file)
* [`client_cert_auth`](#client_cert_auth)
* [`auto_tls`](#auto_tls)
* [`auto_compaction_retention`](#auto_compaction_retention)
* [`initial_cluster_state`](#initial_cluster_state)
* [`initial_cluster_token`](#initial_cluster_token)
* [`initial_cluster`](#initial_cluster)

##### <a name="ensure"></a>`ensure`

Data type: `Enum['present','absent']`



Default value: `$k8s::server::etcd::ensure`

##### <a name="install"></a>`install`

Data type: `Enum['archive','package']`



Default value: `'archive'`

##### <a name="package"></a>`package`

Data type: `String[1]`



Default value: `'etcd'`

##### <a name="version"></a>`version`

Data type: `String[1]`



Default value: `$k8s::server::etcd::version`

##### <a name="etcd_name"></a>`etcd_name`

Data type: `String[1]`



Default value: `fact('hostname')`

##### <a name="fqdn"></a>`fqdn`

Data type: `String[1]`



Default value: `fact('networking.fqdn')`

##### <a name="archive_template"></a>`archive_template`

Data type: `Stdlib::HTTPUrl`



Default value: `'https://storage.googleapis.com/etcd/v%{version}/etcd-v%{version}-%{kernel}-%{arch}.%{kernel_ext}'`

##### <a name="data_dir"></a>`data_dir`

Data type: `String[1]`



Default value: `"${etcd_name}.etcd"`

##### <a name="proxy"></a>`proxy`

Data type: `Enum['on','off','readonly']`



Default value: `'off'`

##### <a name="listen_client_urls"></a>`listen_client_urls`

Data type: `Array[Stdlib::HTTPUrl]`



Default value: `['https://[::]:2379']`

##### <a name="advertise_client_urls"></a>`advertise_client_urls`

Data type: `Array[Stdlib::HTTPUrl]`



Default value: `["https://${fqdn}:2379"]`

##### <a name="listen_peer_urls"></a>`listen_peer_urls`

Data type: `Array[Stdlib::HTTPUrl]`



Default value: `['https://[::]:2380']`

##### <a name="initial_advertise_peer_urls"></a>`initial_advertise_peer_urls`

Data type: `Array[Stdlib::HTTPUrl]`



Default value: `["https://${fqdn}:2380"]`

##### <a name="peer_cert_file"></a>`peer_cert_file`

Data type: `Optional[Stdlib::Unixpath]`



Default value: ``undef``

##### <a name="peer_key_file"></a>`peer_key_file`

Data type: `Optional[Stdlib::Unixpath]`



Default value: ``undef``

##### <a name="peer_trusted_ca_file"></a>`peer_trusted_ca_file`

Data type: `Optional[Stdlib::Unixpath]`



Default value: ``undef``

##### <a name="peer_client_cert_auth"></a>`peer_client_cert_auth`

Data type: `Boolean`



Default value: ``false``

##### <a name="peer_auto_tls"></a>`peer_auto_tls`

Data type: `Boolean`



Default value: `$k8s::server::etcd::self_signed_tls`

##### <a name="cert_file"></a>`cert_file`

Data type: `Optional[Stdlib::Unixpath]`



Default value: ``undef``

##### <a name="key_file"></a>`key_file`

Data type: `Optional[Stdlib::Unixpath]`



Default value: ``undef``

##### <a name="trusted_ca_file"></a>`trusted_ca_file`

Data type: `Optional[Stdlib::Unixpath]`



Default value: ``undef``

##### <a name="client_cert_auth"></a>`client_cert_auth`

Data type: `Boolean`



Default value: ``false``

##### <a name="auto_tls"></a>`auto_tls`

Data type: `Boolean`



Default value: `$k8s::server::etcd::self_signed_tls`

##### <a name="auto_compaction_retention"></a>`auto_compaction_retention`

Data type: `Optional[Integer]`



Default value: ``undef``

##### <a name="initial_cluster_state"></a>`initial_cluster_state`

Data type: `Optional[Enum['existing', 'new']]`



Default value: ``undef``

##### <a name="initial_cluster_token"></a>`initial_cluster_token`

Data type: `Optional[String[1]]`



Default value: ``undef``

##### <a name="initial_cluster"></a>`initial_cluster`

Data type: `Array[String[1]]`



Default value: `[]`

### <a name="k8sserverresources"></a>`k8s::server::resources`

The k8s::server::resources class.

#### Parameters

The following parameters are available in the `k8s::server::resources` class:

* [`kubeconfig`](#kubeconfig)
* [`cluster_cidr`](#cluster_cidr)
* [`dns_service_address`](#dns_service_address)
* [`ca_cert`](#ca_cert)
* [`cluster_domain`](#cluster_domain)
* [`master`](#master)
* [`manage_bootstrap`](#manage_bootstrap)
* [`manage_coredns`](#manage_coredns)
* [`manage_flannel`](#manage_flannel)
* [`coredns_image`](#coredns_image)
* [`coredns_tag`](#coredns_tag)
* [`flannel_image`](#flannel_image)
* [`flannel_tag`](#flannel_tag)

##### <a name="kubeconfig"></a>`kubeconfig`

Data type: `Stdlib::Unixpath`



Default value: `'/root/.kube/config'`

##### <a name="cluster_cidr"></a>`cluster_cidr`

Data type: `Variant[Stdlib::IP::Address::V4::CIDR, Stdlib::IP::Address::V6::CIDR]`



Default value: `$k8s::server::cluster_cidr`

##### <a name="dns_service_address"></a>`dns_service_address`

Data type: `Stdlib::IP::Address::Nosubnet`



Default value: `$k8s::server::dns_service_address`

##### <a name="ca_cert"></a>`ca_cert`

Data type: `Stdlib::Unixpath`



Default value: `$k8s::server::tls::ca_cert`

##### <a name="cluster_domain"></a>`cluster_domain`

Data type: `String[1]`



Default value: `$k8s::server::cluster_domain`

##### <a name="master"></a>`master`

Data type: `String[1]`



Default value: `$k8s::server::master`

##### <a name="manage_bootstrap"></a>`manage_bootstrap`

Data type: `Boolean`



Default value: ``true``

##### <a name="manage_coredns"></a>`manage_coredns`

Data type: `Boolean`



Default value: ``true``

##### <a name="manage_flannel"></a>`manage_flannel`

Data type: `Boolean`



Default value: ``true``

##### <a name="coredns_image"></a>`coredns_image`

Data type: `String[1]`



Default value: `'coredns/coredns'`

##### <a name="coredns_tag"></a>`coredns_tag`

Data type: `String[1]`



Default value: `'1.8.3'`

##### <a name="flannel_image"></a>`flannel_image`

Data type: `String[1]`



Default value: `'quay.io/coreos/flannel'`

##### <a name="flannel_tag"></a>`flannel_tag`

Data type: `String[1]`



Default value: `'v0.13.0'`

### <a name="k8sserverscheduler"></a>`k8s::server::scheduler`

The k8s::server::scheduler class.

#### Parameters

The following parameters are available in the `k8s::server::scheduler` class:

* [`ensure`](#ensure)
* [`master`](#master)
* [`arguments`](#arguments)
* [`cert_path`](#cert_path)
* [`ca_cert`](#ca_cert)
* [`cert`](#cert)
* [`key`](#key)

##### <a name="ensure"></a>`ensure`

Data type: `Enum['present', 'absent']`



Default value: `$k8s::server::ensure`

##### <a name="master"></a>`master`

Data type: `Stdlib::HTTPUrl`



Default value: `$k8s::master`

##### <a name="arguments"></a>`arguments`

Data type: `Hash[String, Data]`



Default value: `{}`

##### <a name="cert_path"></a>`cert_path`

Data type: `Stdlib::Unixpath`



Default value: `$k8s::server::tls::cert_path`

##### <a name="ca_cert"></a>`ca_cert`

Data type: `Stdlib::Unixpath`



Default value: `$k8s::server::tls::ca_cert`

##### <a name="cert"></a>`cert`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/kube-scheduler.pem"`

##### <a name="key"></a>`key`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/kube-scheduler.key"`

### <a name="k8sservertls"></a>`k8s::server::tls`

The k8s::server::tls class.

#### Parameters

The following parameters are available in the `k8s::server::tls` class:

* [`ensure`](#ensure)
* [`generate_ca`](#generate_ca)
* [`manage_certs`](#manage_certs)
* [`api_addn_names`](#api_addn_names)
* [`cluster_domain`](#cluster_domain)
* [`api_service_address`](#api_service_address)
* [`cert_path`](#cert_path)
* [`key_bits`](#key_bits)
* [`valid_days`](#valid_days)
* [`ca_key`](#ca_key)
* [`ca_cert`](#ca_cert)
* [`aggregator_ca_key`](#aggregator_ca_key)
* [`aggregator_ca_cert`](#aggregator_ca_cert)

##### <a name="ensure"></a>`ensure`

Data type: `Enum['present', 'absent']`



Default value: `'present'`

##### <a name="generate_ca"></a>`generate_ca`

Data type: `Boolean`



Default value: `$k8s::server::generate_ca`

##### <a name="manage_certs"></a>`manage_certs`

Data type: `Boolean`



Default value: `$k8s::server::manage_certs`

##### <a name="api_addn_names"></a>`api_addn_names`

Data type: `Array[
    Variant[
      Stdlib::Fqdn,
      Stdlib::IP::Address::Nosubnet,
    ]
  ]`



Default value: `[]`

##### <a name="cluster_domain"></a>`cluster_domain`

Data type: `String[1]`



Default value: `$k8s::cluster_domain`

##### <a name="api_service_address"></a>`api_service_address`

Data type: `Stdlib::IP::Address::Nosubnet`



Default value: `$k8s::api_service_address`

##### <a name="cert_path"></a>`cert_path`

Data type: `Stdlib::Unixpath`



Default value: `$k8s::server::cert_path`

##### <a name="key_bits"></a>`key_bits`

Data type: `Integer[512]`



Default value: `2048`

##### <a name="valid_days"></a>`valid_days`

Data type: `Integer[1]`



Default value: `10000`

##### <a name="ca_key"></a>`ca_key`

Data type: `Stdlib::Unixpath`



Default value: `$k8s::server::ca_key`

##### <a name="ca_cert"></a>`ca_cert`

Data type: `Stdlib::Unixpath`



Default value: `$k8s::server::ca_cert`

##### <a name="aggregator_ca_key"></a>`aggregator_ca_key`

Data type: `Stdlib::Unixpath`



Default value: `$k8s::server::aggregator_ca_key`

##### <a name="aggregator_ca_cert"></a>`aggregator_ca_cert`

Data type: `Stdlib::Unixpath`



Default value: `$k8s::server::aggregator_ca_cert`

## Defined types

### <a name="k8sbinary"></a>`k8s::binary`

The k8s::binary class.

#### Parameters

The following parameters are available in the `k8s::binary` defined type:

* [`ensure`](#ensure)
* [`version`](#version)
* [`packaging`](#packaging)
* [`target`](#target)
* [`tarball_target`](#tarball_target)
* [`active`](#active)
* [`component`](#component)

##### <a name="ensure"></a>`ensure`

Data type: `Enum['present', 'absent']`



Default value: `$k8s::ensure`

##### <a name="version"></a>`version`

Data type: `String[1]`



Default value: `$k8s::version`

##### <a name="packaging"></a>`packaging`

Data type: `String[1]`



Default value: `$k8s::packaging`

##### <a name="target"></a>`target`

Data type: `String[1]`



Default value: `"/opt/k8s/${$version}"`

##### <a name="tarball_target"></a>`tarball_target`

Data type: `String[1]`



Default value: `'/opt/k8s/archives'`

##### <a name="active"></a>`active`

Data type: `Boolean`



Default value: ``true``

##### <a name="component"></a>`component`

Data type: `Optional[String]`



Default value: ``undef``

### <a name="k8sserverbootstrap_token"></a>`k8s::server::bootstrap_token`

The k8s::server::bootstrap_token class.

#### Parameters

The following parameters are available in the `k8s::server::bootstrap_token` defined type:

* [`ensure`](#ensure)
* [`kubeconfig`](#kubeconfig)
* [`id`](#id)
* [`secret`](#secret)
* [`use_authentication`](#use_authentication)
* [`description`](#description)
* [`expiration`](#expiration)
* [`use_signing`](#use_signing)
* [`extra_groups`](#extra_groups)
* [`addn_data`](#addn_data)

##### <a name="ensure"></a>`ensure`

Data type: `Enum['present', 'absent']`



Default value: `'present'`

##### <a name="kubeconfig"></a>`kubeconfig`

Data type: `Stdlib::Unixpath`



##### <a name="id"></a>`id`

Data type: `String[6,6]`



Default value: `$name`

##### <a name="secret"></a>`secret`

Data type: `String[16,16]`



Default value: `(`

##### <a name="use_authentication"></a>`use_authentication`

Data type: `Boolean`



Default value: ``true``

##### <a name="description"></a>`description`

Data type: `Optional[String]`



Default value: ``undef``

##### <a name="expiration"></a>`expiration`

Data type: `Optional[K8s::Timestamp]`



Default value: ``undef``

##### <a name="use_signing"></a>`use_signing`

Data type: `Optional[Boolean]`



Default value: ``undef``

##### <a name="extra_groups"></a>`extra_groups`

Data type: `Optional[Array[String]]`



Default value: ``undef``

##### <a name="addn_data"></a>`addn_data`

Data type: `Hash[String,Data]`



Default value: `{}`

### <a name="k8sserveretcdmember"></a>`k8s::server::etcd::member`

The k8s::server::etcd::member class.

#### Parameters

The following parameters are available in the `k8s::server::etcd::member` defined type:

* [`peer_urls`](#peer_urls)
* [`cluster_urls`](#cluster_urls)
* [`cluster_ca`](#cluster_ca)
* [`cluster_cert`](#cluster_cert)
* [`cluster_key`](#cluster_key)

##### <a name="peer_urls"></a>`peer_urls`

Data type: `Array[String, 1]`



##### <a name="cluster_urls"></a>`cluster_urls`

Data type: `Optional[Array[Stdlib::HTTPUrl]]`



Default value: ``undef``

##### <a name="cluster_ca"></a>`cluster_ca`

Data type: `Optional[Stdlib::Unixpath]`



Default value: ``undef``

##### <a name="cluster_cert"></a>`cluster_cert`

Data type: `Optional[Stdlib::Unixpath]`



Default value: ``undef``

##### <a name="cluster_key"></a>`cluster_key`

Data type: `Optional[Stdlib::Unixpath]`



Default value: ``undef``

### <a name="k8sservertlsca"></a>`k8s::server::tls::ca`

The k8s::server::tls::ca class.

#### Parameters

The following parameters are available in the `k8s::server::tls::ca` defined type:

* [`ensure`](#ensure)
* [`key`](#key)
* [`cert`](#cert)
* [`subject`](#subject)
* [`owner`](#owner)
* [`group`](#group)
* [`key_bits`](#key_bits)
* [`valid_days`](#valid_days)
* [`generate`](#generate)

##### <a name="ensure"></a>`ensure`

Data type: `Enum['present', 'absent']`



Default value: `present`

##### <a name="key"></a>`key`

Data type: `Stdlib::Unixpath`



##### <a name="cert"></a>`cert`

Data type: `Stdlib::Unixpath`



##### <a name="subject"></a>`subject`

Data type: `String[1]`



Default value: `"/CN=${title}"`

##### <a name="owner"></a>`owner`

Data type: `String[1]`



Default value: `'root'`

##### <a name="group"></a>`group`

Data type: `String[1]`



Default value: `'root'`

##### <a name="key_bits"></a>`key_bits`

Data type: `Integer[512]`



Default value: `2048`

##### <a name="valid_days"></a>`valid_days`

Data type: `Integer[1]`



Default value: `10000`

##### <a name="generate"></a>`generate`

Data type: `Boolean`



Default value: ``true``

### <a name="k8sservertlscert"></a>`k8s::server::tls::cert`

The k8s::server::tls::cert class.

#### Parameters

The following parameters are available in the `k8s::server::tls::cert` defined type:

* [`ensure`](#ensure)
* [`distinguished_name`](#distinguished_name)
* [`cert_path`](#cert_path)
* [`ca_key`](#ca_key)
* [`ca_cert`](#ca_cert)
* [`key_bits`](#key_bits)
* [`valid_days`](#valid_days)
* [`extended_key_usage`](#extended_key_usage)
* [`addn_names`](#addn_names)
* [`config`](#config)
* [`key`](#key)
* [`csr`](#csr)
* [`cert`](#cert)
* [`owner`](#owner)
* [`group`](#group)

##### <a name="ensure"></a>`ensure`

Data type: `Enum['present', 'absent']`



Default value: `present`

##### <a name="distinguished_name"></a>`distinguished_name`

Data type: `Hash[String, String]`



##### <a name="cert_path"></a>`cert_path`

Data type: `Stdlib::Unixpath`



##### <a name="ca_key"></a>`ca_key`

Data type: `Stdlib::Unixpath`



##### <a name="ca_cert"></a>`ca_cert`

Data type: `Stdlib::Unixpath`



##### <a name="key_bits"></a>`key_bits`

Data type: `Integer[512]`



Default value: `2048`

##### <a name="valid_days"></a>`valid_days`

Data type: `Integer[1]`



Default value: `10000`

##### <a name="extended_key_usage"></a>`extended_key_usage`

Data type: `Array[Enum['clientAuth','serverAuth']]`



Default value: `['clientAuth']`

##### <a name="addn_names"></a>`addn_names`

Data type: `Array[
    Optional[
      Variant[
        Stdlib::Fqdn,
        Stdlib::IP::Address::Nosubnet,
      ]
    ]
  ]`



Default value: `[]`

##### <a name="config"></a>`config`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/${title}.cnf"`

##### <a name="key"></a>`key`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/${title}.key"`

##### <a name="csr"></a>`csr`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/${title}.csr"`

##### <a name="cert"></a>`cert`

Data type: `Stdlib::Unixpath`



Default value: `"${cert_path}/${title}.pem"`

##### <a name="owner"></a>`owner`

Data type: `String[1]`



Default value: `'root'`

##### <a name="group"></a>`group`

Data type: `String[1]`



Default value: `'root'`

### <a name="k8sservertlsk8s_sign"></a>`k8s::server::tls::k8s_sign`

The k8s::server::tls::k8s_sign class.

#### Parameters

The following parameters are available in the `k8s::server::tls::k8s_sign` defined type:

* [`kubeconfig`](#kubeconfig)

##### <a name="kubeconfig"></a>`kubeconfig`

Data type: `Any`



Default value: `'/root/.kube/config'`

## Resource types

### <a name="kubeconfig"></a>`kubeconfig`

Example:

kubeconfig { '/var/lib/kubernetes/utility.conf':
  ca_cert => '/etc/kubernetes.ca.pem',
  token   => 'utility-token',
}

#### Properties

The following properties are available in the `kubeconfig` type.

##### `ensure`

Valid values: `present`, `absent`

The basic property that the resource should be in.

Default value: `present`

#### Parameters

The following parameters are available in the `kubeconfig` type.

* [`ca_cert`](#ca_cert)
* [`client_cert`](#client_cert)
* [`client_key`](#client_key)
* [`cluster`](#cluster)
* [`context`](#context)
* [`current_context`](#current_context)
* [`embed_certs`](#embed_certs)
* [`group`](#group)
* [`namespace`](#namespace)
* [`owner`](#owner)
* [`password`](#password)
* [`path`](#path)
* [`provider`](#provider)
* [`server`](#server)
* [`skip_tls_verify`](#skip_tls_verify)
* [`tls_server_name`](#tls_server_name)
* [`token`](#token)
* [`token_file`](#token_file)
* [`user`](#user)
* [`username`](#username)

##### <a name="ca_cert"></a>`ca_cert`


##### <a name="client_cert"></a>`client_cert`


##### <a name="client_key"></a>`client_key`


##### <a name="cluster"></a>`cluster`

The name of the cluster to manage in the kubeconfig file

Default value: `default`

##### <a name="context"></a>`context`

The name of the cluster to manage in the kubeconfig file

Default value: `default`

##### <a name="current_context"></a>`current_context`

The current context to set

##### <a name="embed_certs"></a>`embed_certs`

Valid values: ``true``, ``false``

Should the certificate files be embedded into the kubeconfig file

Default value: ``true``

##### <a name="group"></a>`group`

The owner of the kubeconfig file

##### <a name="namespace"></a>`namespace`

The namespace to default to

Default value: `default`

##### <a name="owner"></a>`owner`

The owner of the kubeconfig file

##### <a name="password"></a>`password`


##### <a name="path"></a>`path`

An arbitrary path used as the identity of the resource.

##### <a name="provider"></a>`provider`

The specific backend to use for this `kubeconfig` resource. You will seldom need to specify this --- Puppet will usually
discover the appropriate provider for your platform.

##### <a name="server"></a>`server`

The server URL for the cluster

##### <a name="skip_tls_verify"></a>`skip_tls_verify`

Valid values: ``true``, ``false``

Skip verifying the TLS certs for the cluster

Default value: ``false``

##### <a name="tls_server_name"></a>`tls_server_name`

Specify an alternate server name to use for TLS verification

##### <a name="token"></a>`token`

An authentication token for a user

##### <a name="token_file"></a>`token_file`


##### <a name="user"></a>`user`

The name of the user to manage in the kubeconfig file

Default value: `default`

##### <a name="username"></a>`username`


### <a name="kubectl_apply"></a>`kubectl_apply`

Example:

To encode the bootstrap token "tokenid.tokensecret" into a Kubernetes secret;

    $tokenid = 'tokenid'
    $tokensecret = 'tokensecret'
    kubectl_apply { "bootstrap-token-${tokenid}":
      namespace   => 'kube-system',
      kubeconfig  => '/root/.kube/config',

      api_version => 'v1,
      kind        => 'Secret',

      content     => {
        type => 'bootstrap.kubernetes.io/token',
        data => {
          'token-id'                       => Binary.new($tokenid, '%s'),
          'token-secret'                   => Binary.new($tokensecret, '%s'),
          'usage-bootstrap-authentication' => 'true',
        },
      },
    }

#### Properties

The following properties are available in the `kubectl_apply` type.

##### `ensure`

Valid values: `present`, `absent`

The basic property that the resource should be in.

Default value: `present`

#### Parameters

The following parameters are available in the `kubectl_apply` type.

* [`api_version`](#api_version)
* [`content`](#content)
* [`file`](#file)
* [`kind`](#kind)
* [`kubeconfig`](#kubeconfig)
* [`name`](#name)
* [`namespace`](#namespace)
* [`provider`](#provider)
* [`recreate`](#recreate)
* [`resource_name`](#resource_name)
* [`show_diff`](#show_diff)
* [`update`](#update)

##### <a name="api_version"></a>`api_version`

The apiVersion of the resource

##### <a name="content"></a>`content`

The resource content, will be used as the base for the resulting Kubernetes resource

Default value: `{}`

##### <a name="file"></a>`file`

The local file for the resource

##### <a name="kind"></a>`kind`

The kind of the resource

##### <a name="kubeconfig"></a>`kubeconfig`

The kubeconfig file to use for handling the resource

##### <a name="name"></a>`name`

namevar


##### <a name="namespace"></a>`namespace`

The namespace the resource is contained in

##### <a name="provider"></a>`provider`

The specific backend to use for this `kubectl_apply` resource. You will seldom need to specify this --- Puppet will
usually discover the appropriate provider for your platform.

##### <a name="recreate"></a>`recreate`

Valid values: ``true``, ``false``, `yes`, `no`

Should updates be done by removal and recreation

Default value: ``false``

##### <a name="resource_name"></a>`resource_name`

The name of the resource

##### <a name="show_diff"></a>`show_diff`

Valid values: ``true``, ``false``, `yes`, `no`

Whether to display the difference when the resource changes

Default value: ``false``

##### <a name="update"></a>`update`

Valid values: ``true``, ``false``, `yes`, `no`

Whether to update the resource if the content differs

Default value: ``true``

## Functions

### <a name="k8sformat_arguments"></a>`k8s::format_arguments`

Type: Ruby 4.x API

The k8s::format_arguments function.

#### `k8s::format_arguments(Hash[String,Data] $arguments)`

The k8s::format_arguments function.

Returns: `Array[String]` An array of formatted kubernetes arguments

##### `arguments`

Data type: `Hash[String,Data]`

A hash of arguments to format

### <a name="k8sformat_url"></a>`k8s::format_url`

Type: Ruby 4.x API

The k8s::format_url function.

#### `k8s::format_url(String[1] $url, Hash[String,Data] $components)`

The k8s::format_url function.

Returns: `Any`

##### `url`

Data type: `String[1]`



##### `components`

Data type: `Hash[String,Data]`



### <a name="k8sip_in_cidr"></a>`k8s::ip_in_cidr`

Type: Ruby 4.x API

The k8s::ip_in_cidr function.

#### Examples

##### In 192.168.0.0/24

```puppet
k8s::ip_in_cidr('192.168.0.0/24', 'first')
# => 192.168.0.1
k8s::ip_in_cidr('192.168.0.0/24', 'second')
# => 192.168.0.2
k8s::ip_in_cidr('192.168.0.0/16', 600)
# => 192.168.1.244
```

#### `k8s::ip_in_cidr(Variant[Stdlib::IP::Address::V4::CIDR, Stdlib::IP::Address::V6::CIDR] $cidr, Optional[Variant[Enum["first","second"], Integer[1]]] $index)`

The k8s::ip_in_cidr function.

Returns: `String` The first IP address in the CIDR

##### Examples

###### In 192.168.0.0/24

```puppet
k8s::ip_in_cidr('192.168.0.0/24', 'first')
# => 192.168.0.1
k8s::ip_in_cidr('192.168.0.0/24', 'second')
# => 192.168.0.2
k8s::ip_in_cidr('192.168.0.0/16', 600)
# => 192.168.1.244
```

##### `cidr`

Data type: `Variant[Stdlib::IP::Address::V4::CIDR, Stdlib::IP::Address::V6::CIDR]`

The CIDR to work on

##### `index`

Data type: `Optional[Variant[Enum["first","second"], Integer[1]]]`

The index of the IP to retrieve

## Data types

### <a name="k8sduration"></a>`K8s::Duration`

This regexp matches Go duration values, as taken from;
https://golang.org/pkg/time/#ParseDuration

Alias of

```puppet
Pattern[/^(-?[0-9]+(\.[0-9]+)?(ns|us|µs|ms|s|m|h))+$/]
```

### <a name="k8sportrange"></a>`K8s::PortRange`

This regexp matches port range values

Alias of

```puppet
Pattern[/^[0-9]+(-[0-9]+)?$/]
```

### <a name="k8stimestamp"></a>`K8s::Timestamp`

This regexp matches RFC3339 timestamps, the same as what Kubernetes expects to find

Alias of

```puppet
Pattern[/^([0-9]+)-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(([Zz])|([\+|\-]([01][0-9]|2[0-3]):[0-5][0-9]))$/]
```

### <a name="k8suri"></a>`K8s::URI`

This regexp matches URI values

Alias of

```puppet
Pattern[/^[a-z]+:\/\//]
```

### <a name="k8sversion"></a>`K8s::Version`

A type for handling Kubernetes version numbers

Alias of

```puppet
Pattern[/^(\d+\.){2}\d+$/]
```

### <a name="kusquantity"></a>`Kus::Quantity`

This regexp matches quantities, like those for resource requests/limits

Alias of

```puppet
Pattern[/^[+-]?([0-9]+|[0-9]+\.[0-9]{1,3}|\.[0-9]{1,3}|[0-9]+\.)([KMGTPE]i|[mkMGTPE]|[eE][0-9]+(\.[0-9]+))?$/]
```

